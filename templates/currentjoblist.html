<!DOCTYPE html>
<html lang="en"  data-bs-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Technician Home</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
          rel="stylesheet"
          integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
          crossorigin="anonymous">
</head>
<body>
    <div class="container-lg text-center">
        <div class="row p-10 text-light bg-dark rounded-3">
            <div class="col">
                <nav class="navbar navbar-expand-lg bg-body-dark">
                    <div class="container-fluid">
                        <a class="navbar-brand text-light" href="/">Selwyn Panel Beaters Online |</a>
                        <button class="navbar-toggler"
                                type="button"
                                data-bs-toggle="collapse"
                                data-bs-target="#navbarSupportedContent"
                                aria-controls="navbarSupportedContent"
                                aria-expanded="false"
                                aria-label="Toggle navigation">
                            <span class="navbar-toggler-icon"></span>
                        </button>
                        <div class="collapse navbar-collapse" id="navbarSupportedContent">
                            <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                                <li class="nav-item">
                                    <a class="nav-link active text-light" aria-current="page" href="/currentjoblist">Technician Home</a>
                                </li>

                                <li class="nav-item dropdown">
                                    <a class="nav-link dropdown-toggle text-light"
                                       href="#"
                                       role="button"
                                       data-bs-toggle="dropdown"
                                       aria-expanded="false">
                                        Dropdown
                                    </a>
                                    <ul class="dropdown-menu">
                                        <li><a class="dropdown-item" href="#">Action</a></li>
                                        <li><a class="dropdown-item" href="#">Another action</a></li>
                                        <li><hr class="dropdown-divider"></li>
                                        <li><a class="dropdown-item" href="#">Something else here</a></li>
                                    </ul>
                                </li>
                            </ul>
                        </div>
                    </div>
                </nav>
            </div>
        </div>

        <div class="row mb-2">
            <div class="col">
                <h3 class="text-center">Current Job</h3>
            </div>
        </div>


            <form action="/currentjoblist" method="get">
                <div class="row mb-2">
                    <div class="col-md-4">
                        <select class="form-select me-3" id="selection" name="selection">
                            <option selected>Choose...</option>
                            <option value="Customer ID" {% if selection == 'Customer ID' %} selected {% endif %}>Customer ID</option>
                            <option value="Customer Name" {% if selection == 'Customer Name' %} selected {% endif %}>Customer Name</option>
                            <option value="Job Date" {% if selection == 'Job Date' %} selected {% endif %}>Job Date</option>
                        </select>
                    </div>

                    <div class="col-md-4">
                        <input type="text"
                               class="form-control me-3"
                               placeholder="Fuzzy search possible"
                               id="search"
                               name="search"
                               value="{{ search }}">
                    </div>

                    <div class="col-md-4">
                        <button class="btn btn-outline-success" type="submit" style="width: 100%;">Search</button>
                    </div>
                </div>
            </form>

        <div class="row mb-2">
            <div class="col">

                <form action="/currentjoblist" method="post">
                    {% if no_result %}
                        <div class="alert alert-warning" role="alert">
                            No search found, please re-enter.
                        </div>
                    {% endif %}

                    <table class="table table-striped">
                        <thead>
                            <tr>
                                <th>Select</th>
                                <th>Customer ID</th>
                                <th>Customer Name</th>
                                <th>Job Date</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for row in data %}
                            <tr>
                                <td><input type="radio" name="jobSelect" id="jobSelect" value="{{ row[0] }}"></td>
                                <td>{{row[0]}}</td>
                                <td>{{row[1] if row[1] is not none else "" }} {{ row[2] if row[2] is not none else "" }}</td>
                                <td>{{row[3]}}</td>
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>

                    <div class="row mb-2">
                        <div class="col">
                            <div class="card">
                                <div class="card-body">
                                    <button type="submit" class="btn btn-outline-success">Confirm Selection</button>
                                </div>
                            </div>
                        </div>
                    </div>

                </form>

            </div>
        </div>

        <div class="row mb-2">
            <div class="col">
                <div class="card">
                    <div class="card-body">
                        This is some text within a card body.
                    </div>
                </div>
            </div>
            <div class="col">
                <div class="card">
                    <div class="card-body">
                        This is some text within a card body.
                    </div>
                </div>
            </div>
            <div class="col">
                <div class="card">
                    <div class="card-body">
                        {{ pagination.info|safe }}
                        {{ pagination.links|safe }}
                    </div>
                </div>
            </div>
        </div>

    </div>
</body>
</html>